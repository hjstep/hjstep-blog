---
title: '[시리즈] 리액트 원리 파헤치기 - Intro'
summary: '리액트 파헤치기 시리즈 01 - 사전지식'
tag: [리액트 파헤치기 시리즈, REACT]
idx: 5
---

리액트 원리를 깊게 파악하고 싶어서 **"리액트 원리 파헤치기"** 시리즈를 작성하려고 한다.  
이 시리즈는 리액트 아키텍쳐와 리액트 패키지가 어떻게 구성되어있는지, 동작 원리는 무엇인지 파헤쳐보는 시리즈이다.  
본격적으로 시리즈에 들어가기 앞서 리액트 원리를 이해하는데 필요한 배경과 사전지식에 대해 알아보자

## 배경

리액트 16버전 이전에는 **Stack Reconciler 아키텍쳐**로 구성되어 있었다.  
stack 자료구조 형태이기 때문에 LIFO 형태로 마지막에 들어간 task를 먼저 렌더링해야만 하는 고정적인 순서가 있었고, 동기적으로 컴포넌트 트리를 업데이트해야만 했다.  
이는 업데이트가 크게 발생하면 브라우저 메인 스레드를 블로킹하므로 마치 UI가 멈춘것처럼 느껴지게 하는 좋지않은 UX를 안겨주었고,
렌더링 순서도 마음대로 변경하거나 일시중단할 수 없었다.  
특히 복잡한 애플리케이션에서 렌더링 성능에 악영향을 미쳤다.  
따라서 이러한 문제를 해결하기 위해 Fiber 아키텍쳐가 도입되었다.

## Fiber 아키텍쳐란?

리액트 16에 등장한 렌더링 아키텍쳐로, Stack 아키텍쳐의 문제점을 해결하기 위해 등장했다.(물론 본격적으로 파이버 아키텍쳐가 사용되기 시작한 버전은 리액트 18버전 부터(useTransition, usedeferredvalue))  
메인 스레드가 블로킹되는 것을 방지하고 비동기적으로 업데이트가 발생하므로 렌더링 task를 일시중단하거나 재개할 수 있으며, 또한 우선순위를 부여하여 우선순위 기반의 스케줄링을 할 수 있다.  
메인 스레드가 블로킹되지 않기 때문에 이전의 Stack 아키텍쳐보다 UX가 향상되었다.

## 알아두어야할 사전지식

여기까지 리액트 렌더링 아키텍쳐의 흐름과 무엇인지에 대해 간략하게 알아보았다.  
이제 알아두어야할 사전지식들에 대해서 설명하겠다.  
설명할 사전지식들의 목차는 다음과 같다.

```javascript
1. 리액트에서의 렌더링 개념
2. react element란?
3. fiber 노드란?
```

각각에 대해 알아보자

### 1. 리액트에서의 렌더링 개념

리액트에서 렌더링이라고 부르는 개념과 우리가 흔히 알고있는 렌더링 개념은 조금 차이가 있다.  
리액트에서의 렌더링은 컴포넌트를 호출하고 VDOM 재조정 작업까지를 렌더링이라고 하며, 브라우저에 반영되는 것은 이후 commit phase에서 진행한다.  
정리하자면 우리가 알고있는 렌더링은 브라우저에 반영까지인데, 리액트에서 렌더링은 렌더링 재조정자가 진행하는 과정까지를 말한다. 헷갈리지않게 숙지하자.

### 2. react element란?

컴포넌트가 리턴한 JSX를 트랜스파일링하여 결국 `react.createElement()`를 호출하게된다. 이때 리턴한 내용을 **react element**라고 한다.  
react element란 DOM에 적용될 내용이 담긴(컴포넌트 정보들) 객체인데 type, key, props, ref 프로퍼티로 구성되어있다.

### 3. fiber 노드란?

react element를 확장한 것으로 VDOM의 노드 객체를 말한다.  
react element에서 state, 라이프사이클, hook이 추가된 노드이다.(VDOM은 DOM에 반영될 정보가 담겨있다)

## 마치며

여기까지 리액트 원리 파헤치기 시리즈에 들어가기 앞서 사전지식들에 대해 작성해보았다.  
다음은 패키지 구성요소와 react element는 무엇인지 깊게 파헤쳐보자.
