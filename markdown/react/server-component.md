---
title: '서버 컴포넌트'
summary: '리액트 18에 추가된 서버 컴포넌트에 대해서'
tag: [REACT]
imgSrc: 'static/img/react.jpg'
idx: 3
---
### 서버 컴포넌트, 클라이언트 컴포넌트, 공용 컴포넌트
- **서버 컴포넌트**
  - 요청이 오면 한번만 서버에서 실행된다. 렌더링되면 끝이기에 상태를 가질수도없고 렌더링 생명주기를 사용할 수 없다.
  - 컴포넌트 자체가 async한 것이 가능, 서버에만 있는 데이터 async/await으로 접근가능
- **클라이언트 컴포넌트**
  - 브라우저 환경에서만 실행됨. 서버 컴포넌트를 import할 수 없다
  - 자식으로 서버 컴포넌트를 갖는 구조는 가능하다
- **공용 컴포넌트**
  - 서버, 클라이언트 모두 사용가능. 

### 판단 기준
리액트는 모든 컴포넌트를 공용 컴포넌트로 판단한다.
클라이언트 컴포넌트라는 것을 명시적으로 선언('use client')된 클라이언트 컴포넌트를 제외한 모든 컴포넌트는 서버에서 실행가능한 컴포넌트라고 인식한다.

### 서버 컴포넌트 렌더링
- 서버 컴포넌트는 서버에서 렌더링한 결과물이 HTML이 아니라 JSON 형태이다.
- 클라이언트에게 JSON 형태 결과물을 보낸다.
  - 이 JSON 결과물을 받아서 다시 역직렬화한 다음, JSON을 파싱하여 파싱한 결과물을 바탕으로 리액트 컴포넌트 트리를 재구성해나간다.(파이버노드 객체)
  - 컴포넌트 트리를 완성하면 이 트리를 렌더링해 브라우저의 DOM에 커밋한다